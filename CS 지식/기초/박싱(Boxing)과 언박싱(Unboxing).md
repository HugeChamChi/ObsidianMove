### <font color="#77dd77">박싱(Boxing)</font>
박싱은 값 타입(int,float,bool 등)을 참조 타입(object 또는 인터페이스타입)으로 변환하는 과정이다. 이 과정에서 다음과 같은 3가지 특징이있다.
<br>

1. 값 타입의 데이터가 힙(Heap) 메모리에 할당된다.
2. 값이 새로 생성된 객체에 복사된다.
3. 이 과정은 명시적 형변환이 필요없다.

<br>

간단한 예시를 들어보자
<br>

```cs
int x = 10;       // 스택메모리에 값 타입 변수생성
object y=x ;      // 박싱 : int 값이 obejct 로 변환되어 힙에 저장됨.
```

<br>
### <font color="#77dd77">언박싱(Unboxing)</font>
언박싱은 박싱의 반대과정으로, 참조 타입을 다시 값 타입으로 변환시키는것이다.
이 과정에서 다음과 같은 3가지 특징이있다.

<br>

1. 객체 인스턴스가 지정한 값 타입을 담고 있는지 확인함
2. 객체에서 값을 추출하여 값 타입 변수에 복사함
3. 이 과정은 명시적으로 이루어져야함(형변환이 필요함)

<br>

간단한 예시를 들어보자

<br>

```cs
object x = 10;     // 10이라는 값이 박싱됨
int y = (int)x;    // 언박싱 : 명시적 형변환이 필요
```

<br>

#### <font color="#b2f7ef">박싱과 언박싱의 특징 </font>

---


<br>
1. 메모리 사용 : 박싱과정은 힙영역에 새 객체를 생성하므로 추가 메모리 발생
2. 성능 저하 : 단순 할당에 비해 박싱과 언박싱은 계산 비용이 많이 듬
3. 값의 독립성 : 박싱된 객체와 원래 값타임 변수는 서로 독립적인 메모리를 사용


<br>

```cs
int i 123;
object o = i;        // 박싱
i = 456;             // 원래 값 변경
Console.WriteLine(i);       // 출력 : 456
Console.WriteLine(o);       // 출력 : 123 (박싱된 값은 변경되지 않음)
                           // 미리 object o = i 과정에서 저장된 값 배출출
```

<br>
<br>

#### <font color="#b2f7ef">박싱과 언박싱의 문제점</font>
---

<br>
1. 성능 저하 :
	- 박싱은 힙에 새 객체를 할당하고 생성해야하므로 계산 비용이 많이 듬
	- 단순 참조 할당보다 굉장히 많은 시간이 걸릴 수 있다.
	- 언박싱도 캐스팅 과정에서 할당작업보다 시간이 많이 걸릴수있다.
2. 메모리 사용 증가 :
    - 일단 박싱된 값은 더 많은 메모리를 사용한다.
3. 가비지 컬렉션 (GC)의 부담:
   - 박싱된 객체는 힙에 할당되므로 가비지 컬렉터가 수집해야함
     - 단기 수명의 값들이 힙을 채우게 되므로서 성능 저하.

<br>
<br>

#### <font color="#b2f7ef">박싱/언박싱 피하는 방법</font>

---



<br>


1. 제네릭 사용: 
   - `ArrayList` 대신 `List<T>` 같은 제네릭 컬렉션 사용
   - 제네릭 메서드를 통해 인터페이스를 구현하는 구조체의 박싱 방지

2. 확장 메서드 활용:
   - 값 타입에 대한 확장 메서드를 만들어 Object 메서드 호출 시 박싱 방지

3. 값 타입을 object로 선언하지 않기:
   - 불필요하게 값 타입을 object로 선언하거나 전달하지 않기



 



   

