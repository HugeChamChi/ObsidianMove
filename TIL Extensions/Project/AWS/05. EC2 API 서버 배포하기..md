## <font color="#ffdab9">EC2란 ?</font>

EC2 (Elastic Compute Cloud) 는 컴퓨터를 빌려서 원격으로 접속해 사용하는 서비스이다.
EC2를 쉽게 비유하면 하나의 컴퓨터이다.

### <font color="#77dd77">EC2를 왜 배울까 ?</font>

서버를 배포하기 위해서는 컴퓨터가 필요하다.
내가 가진 컴퓨터에서 서버를 배포하여 다른 사용자들이 인터넷을 통해 접근할수 있게 만들수도있지만, 
내 컴퓨터를 24시간동안 컴퓨터를 켜둘수도 없을뿐더러 인터넷을 통해 내 컴퓨터에 접근 할수 있게 만들다보니 보안적으로도 위험할수도 있음. (뭐 내 컴퓨터가 아마존 보안팀 이길수있는게 아니니깐 ...)

### <font color="#77dd77">리전 선택하기! </font>

![[Pasted image 20250605050153.png]]

필수다... 

<br>

### <font color="#77dd77">인스턴스 시작 </font>

![[Pasted image 20250605050331.png]]


![[Pasted image 20250605051039.png]]

어플리케이션을 선택을 해야하는데 강의를 보니 AmazonLinux 라던지 , macOS , Windows는 
사용자 수가 많다보니 자연스레 덩치가 커져 편의성 패치를 많이 한 탓에 무게가 무겁다. 그래서 진짜 서버 배포할때 필요한 기능만 있는 ubuntu 로 시작하는것이 좋다라고는 하지만 FreeTier가 아니다.
2일만에 저렇게 16달러나 청구되는 RDS 금융맛 한번 보니깐 안되겠더라 . 

자 여기에서 보면 `Microsoft Windows Server 2025 Base` 와 `Microsoft Windows Server 2025 Core Base`
가 있는데 그 Core의 차이가 무엇이냐 하면 

그냥 Server Base는 GUI 제공 , 편안하게 서버관리가능 , 하지만 더 많은 리소스를 사용하게 된다.
Server Core Base는 최소한의 기능만 있는 서버코어 버전이라 마우스로 조작하는 화면이 없고 진짜 명령 프롬포트로만 서버를 관리하는 고인물 전용이라 게임 클라이언트 개발자가 그정도까지 하면 너무 오버엔지니어링이라 생각해 나는 그냥 AmazonLinux (변화구 무엇) 를 선택하였다.

<br>


### 키페어 (로그인)
![[Pasted image 20250605053227.png]]

비밀번호 라고 생각하면 된다. 내 EC2 서버의 비밀번호.

<br>

### 네트워크 설정

![[Pasted image 20250605080729.png]]

VPC : 커다란 AWS 라는 아파트 단지 내의 내 집이라고 생각하면 됨 . 
그 안에 서브넷이라고 있는데 그건 내 집의 방이라고 생각하면 됨. ( 서버실 , 데이터베이스방 등등)

보안그룹 : 
AWS 클라우드의 네트워크 보안을 의미한다.
EC2 인스턴스를 집이라고 생각한다면 , 보안그룹은 집 바깥 쪽에 쳐져있는 울타리와 대문이라고 생각하면 된다.
집에 접근할때 울트리의 대문에서 접근해도 되는 요청인지 보안 요원이 검사를 하는것과 비슷함.

보안그룹에는 보안 규칙이 크게 2가지로 분류되는데 
인바운드 트래픽 : 외부에서 EC2 인스턴스로 보내는 트래픽에서 어떤 트래픽을 허용할지 설정할수있고
아웃바운드 트래픽 : EC2인스턴스에서 외부로 나가는 트래픽에서 어떤 트래픽만 허용할지 설정가능.

![[Pasted image 20250607231725.png]]


소스 유형에서 사용자 지정하면  ip 지정도 가능.

여기 강의 영상속은 http 하나만 추가하셨지만 나는 게임서버를 만들거기때문에 http 가 아닌 TCP , UDP 

또 보안에 맞는 ssh를 넣어보고자한다.

#### 인바운드 보안 그룹의 TCP 와 UDP
TCP : 데이터가 손실되지 않고, 순서대로 정확하게 전달 되는것을 보장함.
주요 사용처 : 로그인 , 채팅메세지 , 중요한 게임 데이터  ( 인벤토리 동기화 , 캐릭터 상태 동기화 , 게임시작/종료 메세지 , 아이템 획득등 ) 이런정보들은 하나라도 빠지거나 순서가 바뀌면 게임에 영향을 주므로 여기에 저장.

UDP : 데이터 전송 속도가 빠르고 , 오버헤드(부담) 이 적음 , 데이터가 손실되거나 순서가 바뀔수도 있지만
빠르게 전달하는것이 목적임 . 실시간 움직임 ( 캐릭터 위치 , 총알 발사 , 스킬 이펙트) 등 짧은 주기로 자주 업데이트되는 정보 등은 몇프레임 손실되더라도 최신정보로 바로 덮어쓰는것이 중요.

여기에서 2개 모두 조화롭게 사용할수있음 . 

#### SSH (Secure Shell)
SSH 은 보안셀의 약자로 원격으로 서버에 접속하여 명령을 실행할 수 있도록 해주는 네트워크 프로토콜임.
데이터가 전송될 때 암호화됨 . 사용자 이름 , 비밀번호 , 명령어 , 서버의 출력 모든 정보가 암호화가 됨.
SSH는 키 페어 방식 으로 인증을 주로함 (비밀번호 방식도 있긴하지만 그건 권장x)

공개 키 : 서버에 저장됨 . 말 그대로 공개되어도 괜찮은 키임.
개인 키 : 로컬 컴퓨터에 안전하게 보관 해야하는 키임 . 

작동방식 : 내가 개인키를 가지고 서버에 접속을 시도하면 , 서버는 미리 가지고 있는 공개 키와 나의 개인 키가 한쌍인지 확인하여 일치하면 접속을 허용하는 방식임 .

### IP 와 Port 의 개념
Ip:

`61.41.153.2` 는 IP 주소이다
IP 는 특정 컴퓨터의 주소를 가르킨다 , 예를들면 naver.com 이라는 서비스는 `61.41.153.2` 라는 Ip 주소를 가지고있따

Port : 
아래와 같은 값에서 `:3000` 부분은 포트 번호를 의미한다.
`61.41.153.2:3000` 

##### 잘 알려진 포트 (Well-known port)란?
포트 번호는 0~65535 번 까지 사용할수있다.
그중에서 0~1023번까지의 포트번호는 주요 통신을 위한 규약에 따라 이미 정해져있따.
이렇게 규약을 통해 역할이 정해져있는 포트 번호를 보고 잘 알려진 포트(well-knownport) 라고한다
주요 규약으로 정해져있는 포트번호 중 자주 사용되는 포트 번호는 
- 22번 (SSH) 원격 접속을 위한 포트번호
  - EC2 인스턴스에 연결할 때 22번 포트를 사용함
- 80번 : http 로 통신할때 사용
- 443번 : https 를 통신할때 사용

근데 사실 포트는 어떻게 써도 상관없음 . 


### 스토리지 설정
우리가 쓰고 있는 노트북이나 데스크톱 컴퓨터는 전부 하드디스크를 가지고있다.
하드디스크는 컴퓨터에서 파일을 저장하는 공간이다.
EC2도 하나의 컴퓨터다 보니깐 여러 파일들을 저장할 저장공간이 필요하다.
이 저장공간을 보고 EBS ( Elastic Block Storage ) 라고 부른다.
![[Pasted image 20250608055517.png]]



<Br>


