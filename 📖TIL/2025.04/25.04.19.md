## 게임수학 (삼각함수편)

게임 개발에서 삼각함수는 다양한 상황에서 필수적으로 활용됨. 특히 유니티와 같은 2D, 3D 엔진에서 오브젝트의 회전, 이동, 방향 계산, 궤적 생성, 카메라 제어, 물리 연산 등 수많은 기능의 핵심 수학적 도구로 삼각함수가 사용됨. 삼각함수는 sin(사인), cos(코사인), tan(탄젠트) 세 가지가 대표적이며, 각 함수는 각도와 길이 사이의 관계를 정의함.

## 삼각함수의 기본 개념

삼각함수는 직각삼각형에서 시작함. 한 각의 크기를 θ(세타)라고 할 때, 사인은 빗변에 대한 높이의 비(sin θ = 높이/빗변), 코사인은 밑변의 비(cos θ = 밑변/빗변), 탄젠트는 높이와 밑변의 비(tan θ = 높이/밑변)로 정의됨. 삼각함수는 단위원(반지름이 1인 원)에서도 자주 설명되며, 원점(0,0)에서 반지름 1짜리 원 위의 한 점을 각도 θ만큼 회전시켰을 때, x좌표가 cos θ, y좌표가 sin θ가 됨.

## 게임에서 삼각함수의 활용

1. **오브젝트의 회전**  
    2D 게임에서 오브젝트를 특정 각도로 회전시키거나, 3D 공간에서 방향을 계산할 때 삼각함수가 필수임. 예를 들어 총알이 특정 각도로 발사될 때

```cs
float rad = angle * Mathf.Deg2Rad;
float x = Mathf.Cos(rad);
float y = Mathf.Sin(rad);
```

이런식으로 x,y방향 벡터를 구함.

2. **원형 궤적 및 움직임**  
캐릭터가 원을 그리며 움직이거나, 적이 플레이어 주위를 돌 때, 삼각함수를 사용해 위치를 계산함.
```cs
float x = centerX + Mathf.Cos(rad) * radius; 
float y = centerY + Mathf.Sin(rad) * radius;
```
중심점에서 반지름만큼 떨어진 위치를 쉽게 구할 수 있음.

3. **방향 벡터와 각도 계산**  
두 점 사이의 방향을 구하거나, 오브젝트가 목표를 바라보게 만들 때 삼각함수가 쓰임.  
예를 들어
```cs
Vector2 dir = target - origin;
float angle = Mathf.Atan2(dir.y, dir.x) * Mathf.Rad2Deg;
```

Atan2 함수는 두 점의 차이로 각도를 구할 때 매우 유용함.

4. **진동, 파동, 애니메이션**  
    사인, 코사인 곡선을 이용해 자연스러운 움직임이나 반복되는 애니메이션을 만들 수 있음. 예를 들어, 떠다니는 효과, 점프의 곡선, 화면 흔들림 등 다양한 효과에 활용됨.
    

## 유니티에서의 삼각함수 함수

유니티의 Mathf 클래스는 삼각함수 관련 메서드를 제공함.

- `Mathf.Sin(float f)`, `Mathf.Cos(float f)`, `Mathf.Tan(float f)`는 각각 라디안 값을 입력받아 결과를 반환함.
    
- 각도를 라디안으로 변환하려면 `Mathf.Deg2Rad`, 라디안을 각도로 변환하려면 `Mathf.Rad2Deg`를 곱함.
    

예시:

```cs
float degree = 45f;
float radian = degree * Mathf.Deg2Rad;
float sinValue = Mathf.Sin(radian);
```



## 삼각함수의 실전 적용 예시

- **총알 발사 방향**  
    플레이어가 마우스를 클릭한 방향으로 총알을 쏘고 싶을 때, 플레이어와 마우스 위치의 차이로 각도를 구하고, 그 각도로 총알을 이동시킴.
    
- **적의 순찰 경로**  
    적이 원형 경로를 따라 움직이게 만들 때, 시간에 따라 각도를 변화시키며 위치를 계산함.
    
- **카메라 흔들림**  
    사인 곡선을 이용해 카메라 위치를 살짝씩 바꿔 자연스러운 흔들림 효과를 연출함.
    
